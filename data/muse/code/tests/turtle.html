<!DOCTYPE html>
 <html>
<head>
<link href="https://minerbadd.github.io/CodeMark/assets/prism.css" rel="stylesheet" />
<link href="https://minerbadd.github.io/CodeMark/assets/downmark.css" rel="stylesheet" />
</head>
<body>
<script src="https://minerbadd.github.io/CodeMark/assets/prism.js"></script>

--:? muse/docs/tests/turtle.txt <- <b>Run Regression Test for Muse</b> -> muse/docs/tests/turtle.md  
-- <b>Tests for lib/turtle extensions to turtle operations</b>
<p>
dofile(arg[0]:match('.*[/\\]').."/_preface.lua");  -- set test environment using <code>preface</code> in execution path
local core, turtle = require("core").core, require("turtle").turtle
<p>
do local result, item = turtle.inspects.east(); print (1, result, result and item.name or item) end
do local result, item = turtle.inspects.up(); print (1.1, result, result and item.name or item) end
<p>
-- checkTarget(targets, itemDetail) -- item inspected by turtle is in targets?
local ores = {"minecraft:coal<i>ore", "minecraft:iron</i>ore", "minecraft:gold_ore",}
do local result = turtle.check(ores, {name = "minecraft:coal_ore"}); print(2, result) end
<p>
--category check
do local result = turtle.category("test"); print(3, table.unpack(result)) end
do local result = turtle.category("dirt"); print(4, table.unpack(result)) end
do local result = turtle.category("nomatch"); print(5, table.unpack(result), "(minecraft:nomatch expected)") end
do local result = turtle.category("fill"); print(6, table.unpack(result)) end
<p>
-- fuelAvailable() -- energy available in turtle slots
print(7, turtle.fuel(), "fuel available")
<p>
-- digUnblock(direction, limit, attempts) attempts = attempts or 0; --waits, retrys for gravel; attacks
do local result, direction, bedrock = turtle.unblock("east", 5) -- normal usage
  print(8, result, direction, bedrock and "bedrock" or "not bedrock")
end
<p>
do local ok, result, notice, direction = core.pass(pcall(turtle.unblock, "east", 5, 6)) --force fail
  if ok then print(9, "Should have failed", ok, result, notice, direction) end
  if not ok then print(9, "failure expected", result, core.string(notice)) end
end
<p>
-- inventory() -- returns currrent turtle inventory as table
for _, item in ipairs(turtle.inventory()) do local name, count = table.unpack(item)
  print(10, count, name) 
end
<p>
<p>
  </body> 
</html>

